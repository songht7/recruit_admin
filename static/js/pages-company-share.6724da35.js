(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-company-share"],{"2e4c":function(t,e,i){"use strict";i.r(e);var n=i("610f"),a=i("bfd0");for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);i("d161");var r,c=i("f0c5"),d=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"7dbb9226",null,!1,n["a"],r);e["default"]=d.exports},"3a54":function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var a,o=n(i("3b8d")),r=n(i("1dd3")),c=n(i("4621")),d=n(i("62ab")),s=i("fdee"),l={data:function(){return{data:{},poptype:"",newImg:"",company:"",watermark:"",waterState:!1,QRCodeImg:"",QROpacity:1,QRSize:200,wmSize:"1",QRColor:0,qrtst:!1,base64Img:"",tempFilePath:"",cropFixed:!0,cropWidth:250,cropHeight:250,imgBg:"/static/default.jpg"}},onLoad:function(t){var e=this;e.setWebQRcode()},onShow:function(){var t=this;t.getBase64Image(),t.$store.dispatch("cheack_user")},onReady:function(){},components:{imageWrapper:c.default,uniPopup:d.default},methods:{setWebQRcode:function(){var t=this,e=t.$store.state.domain+"/#/pages/company/detail?id=54";a&&a.clear(),a=new r.default({context:t,canvasId:"tki-qrcode-canvas",text:e,correctLevel:0,background:"rgba(255, 255, 255,1)",foreground:"rgba(0,0,0,1)",size:t.QRSize,cbResult:function(e){t.QRCodeImg=e,t.data["QRCodeImg"]=e}})},toImage:function(){var t=(0,o.default)(regeneratorRuntime.mark(function t(){var e,i,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this,!e.loading){t.next=3;break}return t.abrupt("return",!1);case 3:i=document.getElementById("ImageWrapper"),n=i.offsetWidth,a=i.offsetHeight,e.loading=!0,uni.showLoading({title:"正在生成..."}),s(i,{backgroundColor:"transparent",useCORS:!0,allowTaint:!0,tainttest:!0,width:n,height:a}).then(function(t){e.loading=!1,uni.hideLoading();var i=t.toDataURL("image/png");e.poptype="showNewImg",e.$store.state.portrait=[{path:i,imgType:"base64Img",upload_percent:0}],e.newImg=i});case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getBase64Image:function(t,e){var i=this;uni.showToast({title:"",icon:"loading",duration:1500});var n=new Image;n.crossOrigin="Anonymous",n.setAttribute("crossorigin"," *"),n.src=e+"?t="+(new Date).getTime(),n.onload=function(){var t=document.createElement("canvas");t.width=n.width,t.height=n.height;var e=t.getContext("2d");e.drawImage(n,0,0,n.width,n.height);var a=n.src.substring(n.src.lastIndexOf(".")+1).toLowerCase(),o=t.toDataURL("image/"+a);return i.base64Img=o,uni.hideToast(),o}},togglePopup:function(t){var e=this;e.poptype=t}}};e.default=l},"4d8c":function(t,e,i){var n=i("8520");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("5d703662",n,!0,{sourceMap:!1,shadowMode:!1})},"610f":function(t,e,i){"use strict";var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{class:["content"]},[i("v-uni-view",{staticClass:"uni-padding-wrap"},[i("v-uni-view",{staticClass:"portrait-box"},[i("imageWrapper",{ref:"imageWrapper",attrs:{data:t.data,QRCodeImg:t.QRCodeImg}})],1),i("v-uni-view",{staticClass:"portrait-main"},[i("v-uni-view",{staticClass:"imgSelect"},[i("v-uni-view",{staticClass:"webQRCode"},[i("v-uni-canvas",{staticClass:"tki-qrcode-canvas",style:{width:t.QRSize+"px",height:t.QRSize+"px"},attrs:{"canvas-id":"tki-qrcode-canvas"}})],1),i("v-uni-view",{staticClass:"editBtns"},[i("v-uni-view",{staticClass:"editBtn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toImage.apply(void 0,arguments)}}},[t._v("完成")])],1)],1)],1),i("uni-popup",{attrs:{show:"showNewImg"===t.poptype,position:"full",mode:"fixed",width:"100"},on:{hidePopup:function(e){arguments[0]=e=t.$handleEvent(e),t.togglePopup("")}}},[i("v-uni-view",{attrs:{id:"Generated"}},[t.newImg?i("img",{staticClass:"imgs",attrs:{src:t.newImg,alt:""}}):t._e(),i("v-uni-view",[t._v("长按保存图片")]),i("v-uni-view",{staticClass:"gen-btns"},[i("v-uni-view",{staticClass:"close-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.togglePopup("")}}},[t._v("返回")])],1)],1)],1)],1)],1)},o=[];i.d(e,"b",function(){return a}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return n})},8520:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'uni-page-body[data-v-7dbb9226]{height:100%}.webQRCode[data-v-7dbb9226]{position:absolute;width:%?100?%;height:%?100?%;opacity:0;left:-10000px}.content[data-v-7dbb9226]{height:100%;background:#b0ecd2}.uni-padding-wrap[data-v-7dbb9226]{height:100%}.portrait-box[data-v-7dbb9226]{padding:%?90?% 0 0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-align-content:center;align-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.imgs[data-v-7dbb9226]{width:100%}#Generated[data-v-7dbb9226]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-align-content:center;align-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative;height:90%;padding:5% 0}#Generated .imgs[data-v-7dbb9226]{width:90%}.gen-btns[data-v-7dbb9226]{position:absolute;width:90%;left:0;bottom:0;padding:%?40?% 5%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-align-content:center;align-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-around;justify-content:space-around}.imgSelect[data-v-7dbb9226]{width:90%;padding:%?10?% 5%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-content:center;align-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.editBtns[data-v-7dbb9226]{width:50%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-content:center;align-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.selBtn[data-v-7dbb9226]{font-size:%?28?%;padding:%?20?%;-webkit-box-flex:1;-webkit-flex:1;flex:1;position:relative}.selBtn[data-v-7dbb9226]::after{content:"";height:50%;width:1px;background:#e7e7e7;overflow:hidden;position:absolute;right:-1px}.selBtnOn[data-v-7dbb9226]{background:#151c26;color:#f17f5a}.selBtn[data-v-7dbb9226]:last-child()::after{width:0;background:none}.ctgBox[data-v-7dbb9226]{padding:%?10?% %?10?% %?100?%;height:%?400?%;overflow-y:auto}.ctgCont[data-v-7dbb9226]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-content:center;align-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding-bottom:%?10?%}.ctgImgBlock[data-v-7dbb9226]{width:20%;height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-content:center;align-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding-bottom:%?10?%;position:relative}.ctgImg[data-v-7dbb9226]{max-width:70%;max-height:100%}.editBtn[data-v-7dbb9226],\n.selPor[data-v-7dbb9226]{font-size:%?28?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-align-content:center;align-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#f17f5a;line-height:1;border-radius:%?10?%;padding:%?15?% 0}.editBtn[data-v-7dbb9226]{width:48%;color:#fff;border-radius:%?20?%;background-image:-webkit-linear-gradient(left,#e5a590,#f17f5a);background-image:linear-gradient(90deg,#e5a590,#f17f5a);background:#f17f5a}',""])},bfd0:function(t,e,i){"use strict";i.r(e);var n=i("3a54"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);e["default"]=a.a},d161:function(t,e,i){"use strict";var n=i("4d8c"),a=i.n(n);a.a}}]);