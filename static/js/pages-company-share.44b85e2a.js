(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-company-share"],{"0884":function(e,t,i){var n=i("433c");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("05b985bf",n,!0,{sourceMap:!1,shadowMode:!1})},"0cbf":function(e,t,i){"use strict";var n=i("ee27");i("baa5"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("96cf");var a,o=n(i("c964")),r=n(i("37a2")),c=n(i("353b")),s=n(i("c0fc")),d=i("3a7d"),l={data:function(){return{data:{},poptype:"",newImg:"",company:"",watermark:"",waterState:!1,QRCodeImg:"",QROpacity:1,QRSize:200,wmSize:"1",QRColor:0,qrtst:!1,base64Img:"",tempFilePath:"",cropFixed:!0,cropWidth:250,cropHeight:250,imgBg:"/static/default.jpg"}},onLoad:function(e){var t=this;t.setWebQRcode()},onShow:function(){var e=this;e.getBase64Image(),e.$store.dispatch("cheack_user")},onReady:function(){},components:{imageWrapper:c.default,uniPopup:s.default},methods:{setWebQRcode:function(){var e=this,t=e.$store.state.domain+"/#/pages/company/detail?id=54";a&&a.clear(),a=new r.default({context:e,canvasId:"tki-qrcode-canvas",text:t,correctLevel:0,background:"rgba(255, 255, 255,1)",foreground:"rgba(0,0,0,1)",size:e.QRSize,cbResult:function(t){e.QRCodeImg=t,e.data["QRCodeImg"]=t}})},toImage:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var i,n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=e,!i.loading){t.next=3;break}return t.abrupt("return",!1);case 3:n=document.getElementById("ImageWrapper"),a=n.offsetWidth,o=n.offsetHeight,i.loading=!0,uni.showLoading({title:"正在生成..."}),d(n,{backgroundColor:"transparent",useCORS:!0,allowTaint:!0,tainttest:!0,width:a,height:o}).then((function(e){i.loading=!1,uni.hideLoading();var t=e.toDataURL("image/png");i.poptype="showNewImg",i.$store.state.portrait=[{path:t,imgType:"base64Img",upload_percent:0}],i.newImg=t}));case 10:case"end":return t.stop()}}),t)})))()},getBase64Image:function(e,t){var i=this;uni.showToast({title:"",icon:"loading",duration:1500});var n=new Image;n.crossOrigin="Anonymous",n.setAttribute("crossorigin"," *"),n.src=t+"?t="+(new Date).getTime(),n.onload=function(){var e=document.createElement("canvas");e.width=n.width,e.height=n.height;var t=e.getContext("2d");t.drawImage(n,0,0,n.width,n.height);var a=n.src.substring(n.src.lastIndexOf(".")+1).toLowerCase(),o=e.toDataURL("image/"+a);return i.base64Img=o,uni.hideToast(),o}},togglePopup:function(e){var t=this;t.poptype=e}}};t.default=l},"1c45":function(e,t,i){"use strict";var n,a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{class:["content"]},[i("v-uni-view",{staticClass:"uni-padding-wrap"},[i("v-uni-view",{staticClass:"portrait-box"},[i("imageWrapper",{ref:"imageWrapper",attrs:{data:e.data,QRCodeImg:e.QRCodeImg}})],1),i("v-uni-view",{staticClass:"portrait-main"},[i("v-uni-view",{staticClass:"imgSelect"},[i("v-uni-view",{staticClass:"webQRCode"},[i("v-uni-canvas",{staticClass:"tki-qrcode-canvas",style:{width:e.QRSize+"px",height:e.QRSize+"px"},attrs:{"canvas-id":"tki-qrcode-canvas"}})],1),i("v-uni-view",{staticClass:"editBtns"},[i("v-uni-view",{staticClass:"editBtn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toImage.apply(void 0,arguments)}}},[e._v("完成")])],1)],1)],1),i("uni-popup",{attrs:{show:"showNewImg"===e.poptype,position:"full",mode:"fixed",width:"100"},on:{hidePopup:function(t){arguments[0]=t=e.$handleEvent(t),e.togglePopup("")}}},[i("v-uni-view",{attrs:{id:"Generated"}},[e.newImg?i("img",{staticClass:"imgs",attrs:{src:e.newImg,alt:""}}):e._e(),i("v-uni-view",[e._v("长按保存图片")]),i("v-uni-view",{staticClass:"gen-btns"},[i("v-uni-view",{staticClass:"close-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.togglePopup("")}}},[e._v("返回")])],1)],1)],1)],1)],1)},o=[];i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return n}))},"433c":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'uni-page-body[data-v-4e4b57fa]{height:100%}.webQRCode[data-v-4e4b57fa]{position:absolute;width:%?100?%;height:%?100?%;opacity:0;left:-10000px}.content[data-v-4e4b57fa]{height:100%;background:#b0ecd2}.uni-padding-wrap[data-v-4e4b57fa]{height:100%}.portrait-box[data-v-4e4b57fa]{padding:%?90?% 0 0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-align-content:center;align-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.imgs[data-v-4e4b57fa]{width:100%}#Generated[data-v-4e4b57fa]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-align-content:center;align-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative;height:90%;padding:5% 0}#Generated .imgs[data-v-4e4b57fa]{width:90%}.gen-btns[data-v-4e4b57fa]{position:absolute;width:90%;left:0;bottom:0;padding:%?40?% 5%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-align-content:center;align-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-around;justify-content:space-around}.imgSelect[data-v-4e4b57fa]{width:90%;padding:%?10?% 5%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-content:center;align-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.editBtns[data-v-4e4b57fa]{width:50%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-content:center;align-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.selBtn[data-v-4e4b57fa]{font-size:%?28?%;padding:%?20?%;-webkit-box-flex:1;-webkit-flex:1;flex:1;position:relative}.selBtn[data-v-4e4b57fa]::after{content:"";height:50%;width:1px;background:#e7e7e7;overflow:hidden;position:absolute;right:-1px}.selBtnOn[data-v-4e4b57fa]{background:#151c26;color:#f17f5a}.selBtn[data-v-4e4b57fa]:last-child::after{width:0;background:none}.ctgBox[data-v-4e4b57fa]{padding:%?10?% %?10?% %?100?%;height:%?400?%;overflow-y:auto}.ctgCont[data-v-4e4b57fa]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-content:center;align-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding-bottom:%?10?%}.ctgImgBlock[data-v-4e4b57fa]{width:20%;height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-content:center;align-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding-bottom:%?10?%;position:relative}.ctgImg[data-v-4e4b57fa]{max-width:70%;max-height:100%}.editBtn[data-v-4e4b57fa],\n.selPor[data-v-4e4b57fa]{font-size:%?28?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-align-content:center;align-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#f17f5a;line-height:1;border-radius:%?10?%;padding:%?15?% 0}.editBtn[data-v-4e4b57fa]{width:48%;color:#fff;border-radius:%?20?%;background-image:-webkit-linear-gradient(left,#e5a590,#f17f5a);background-image:linear-gradient(90deg,#e5a590,#f17f5a);background:#f17f5a}',""]),e.exports=t},7391:function(e,t,i){"use strict";var n=i("0884"),a=i.n(n);a.a},"8cf2":function(e,t,i){"use strict";i.r(t);var n=i("1c45"),a=i("ead0");for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("7391");var r,c=i("f0c5"),s=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"4e4b57fa",null,!1,n["a"],r);t["default"]=s.exports},ead0:function(e,t,i){"use strict";i.r(t);var n=i("0cbf"),a=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a}}]);